<!DOCTYPE html>
<html lang="ko">
<head>
  <link rel="icon" href="icon.png" type="image/png">
  <link rel="apple-touch-icon" href="icon.png">
  
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ìˆ˜ì˜ì„ìƒê³„ì‚°ê¸° ì„ì‹œëŸ°ì³</title>
  <style>
    :root {
      --bg:#f8f9fa; --line:#dee2e6; --soft:#f1f3f5; --txt:#212529; --muted:#868e96;
      --blue:#228be6; --red:#fa5252; --green:#37b24d; --gray:#adb5bd;
    }
    * { box-sizing: border-box; }
    body { margin:0; background:var(--bg); color:var(--txt); font-family:system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple SD Gothic Neo, Noto Sans KR, sans-serif; }
    header { background:#fff; border-bottom:1px solid var(--line); padding:16px; text-align:center; }
    header h1 { margin:0; font-size:20px; }

    .patient-info { padding:12px; background:#fff; border-bottom:1px solid var(--line); }
    .row { display:flex; gap:12px; }
    .row > div { flex:1; }
    label { display:block; margin:8px 0 4px; font-size:14px; color:#495057; }
    input { width:100%; padding:10px; font-size:16px; border:1px solid #ccc; border-radius:6px; }

    .btnbar { display:flex; justify-content:center; gap:14px; margin:14px auto; max-width:420px; }
    .btn { border:none; border-radius:8px; padding:10px 16px; font-size:15px; color:#fff; cursor:pointer; }
    .btn.confirm { background:var(--green); }
    .btn.reset { background:var(--gray); }

    .tabs { display:flex; background:var(--soft); border-bottom:1px solid var(--line); }
    .tab { flex:1; text-align:center; padding:12px; cursor:pointer; border-right:1px solid var(--line); user-select:none; }
    .tab:last-child { border-right:none; }
    .tab.active { background:#fff; font-weight:700; }

    .container { padding:16px; }
    .section { display:none; }
    .section.active { display:block; }

    .grid { display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:12px; }
    .btn-link { padding:12px; font-size:15px; border:none; border-radius:10px; background:var(--blue); color:#fff; cursor:pointer; transition:transform .03s ease-in; }
    .btn-link:active { transform:translateY(1px); }
    .btn-link.special { background:var(--red); } /* ì—°ê²°ëœ ê³„ì‚°ê¸° = ë¹¨ê°„ ë²„íŠ¼ */

    .notice { margin-top:12px; padding:12px; background:var(--soft); border:1px dashed var(--line); border-radius:8px; color:var(--muted); font-size:13px; }
  </style>

  <!--
    ğŸ”§ ê°œë°œ ë©”ëª¨ (í™”ë©´ ë¹„í‘œì‹œ)
    - ê·œì¹™: "ì—°ê²°ëœ ê³„ì‚°ê¸° = ë¹¨ê°„ ë²„íŠ¼(.special)". ì—°ê²°ì´ ëŠê¸´ ìƒíƒœëŠ” íŒŒë€ìƒ‰ ê¸°ë³¸(.btn-link).
    - ìƒˆ ê³„ì‚°ê¸° ë²„íŠ¼ ì¶”ê°€ ë°©ë²•:
      1) í•´ë‹¹ íƒ­ ë‚´ë¶€ì˜ .grid ì˜ì—­ì— ì•„ë˜ ì˜ˆì‹œì²˜ëŸ¼ ë²„íŠ¼ í•˜ë‚˜ë¥¼ ì¶”ê°€
         <button class="btn-link special" onclick="openCalc('https://example.vercel.app')">ìƒˆ ê³„ì‚°ê¸°</button>
         * ì‹¤ì œ ì—°ê²°ì´ ì—†ìœ¼ë©´ special í´ë˜ìŠ¤ë¥¼ ë¹¼ê³  ê¸°ë³¸ íŒŒë€ìƒ‰ìœ¼ë¡œ ë‘ì„¸ìš”.
      2) ì—°ê²° URLì„ ë„£ê³ , ì‹¤ì œ ë°°í¬ê°€ ì™„ë£Œë˜ë©´ class="btn-link special"ë¡œ ë³€ê²½
    - ë™ì¼ ê³„ì‚°ê¸°ë¥¼ ì—¬ëŸ¬ íƒ­ì—ì„œ í˜¸ì¶œ ê°€ëŠ¥(ì˜ˆ: NaHCOâ‚ƒëŠ” CRIì™€ Bolus ëª¨ë‘ì—ì„œ ë™ì¼ URL í˜¸ì¶œ)
    - ë§í¬ ì—´ê¸° ì •ì±…: ìƒˆ íƒ­, noopener/noreferrer ì ìš© (openCalc í•¨ìˆ˜ ì°¸ê³ )
    - í™˜ì ì •ë³´ ì…ë ¥ë€(window.patientData)ì— ì €ì¥ë˜ì–´ ë‹¤ë¥¸ ê³„ì‚°ê¸°ì—ì„œë„ í™œìš©í•  ì˜ˆì •ì´ë¼ë©´,
      postMessage ë“±ìœ¼ë¡œ ì—°ë™í•˜ëŠ” í™•ì¥ ìŠ¤í™ì„ ì¶”í›„ ì¶”ê°€í•  ìˆ˜ ìˆìŒ(í˜„ì¬ëŠ” ë‹¨ìˆœ ë©”ëª¨ë¦¬ ì €ì¥ë§Œ).
  -->
</head>
<body>
<header style="display:flex; justify-content:center; align-items:center; gap:18px; margin-bottom:6px;">
  <img src="icon.png" alt="icon" style="height:5em; vertical-align:middle;border-radius:12px;">
  <h1 style="margin:0">ìˆ˜ì˜ì„ìƒê³„ì‚°ê¸° ì„ì‹œëŸ°ì³</h1>
</header>

  <section class="patient-info">
    <div class="row">
      <div>
        <label for="name">í™˜ì ì´ë¦„</label>
        <input id="name" type="text" placeholder="ëƒ¥ëƒ¥ì´" onfocus="this.placeholder=''" />
      </div>
      <div>
        <label for="weight">ì²´ì¤‘ (kg) *</label>
        <input id="weight" type="number" placeholder="í•„ìˆ˜ ì…ë ¥" onfocus="this.placeholder=''" required />
      </div>
    </div>
    <div class="row" style="margin-top:12px;">
      <div>
        <label for="k">ì¹¼ë¥¨ (mEq/L)</label>
        <input id="k" type="number" step="0.1" placeholder="ì˜ˆ: 3.5" />
      </div>
      <div>
        <label for="ca">ì¹¼ìŠ˜ (mg/dL)</label>
        <input id="ca" type="number" step="0.1" placeholder="ì˜ˆ: 9.8" />
      </div>
      <div>
        <label for="hco3">ì¤‘íƒ„ì‚° (mEq/L)</label>
        <input id="hco3" type="number" step="0.1" placeholder="ì˜ˆ: 20" />
      </div>
    </div>
    <div class="btnbar">
      <button class="btn confirm" onclick="handleConfirm()">í™•ì¸</button>
      <button class="btn reset" onclick="handleReset()">ì´ˆê¸°í™”</button>
    </div>
  </section>

  <nav class="tabs">
    <div class="tab active" onclick="showTab(0)">ğŸ’§ ì¼ë°˜</div>
    <div class="tab" onclick="showTab(1)">ğŸ’‰ ì•½ë¬¼ CRI</div>
    <div class="tab" onclick="showTab(2)">âš¡ ì•½ë¬¼ Bolus</div>
  </nav>

  <main class="container">
    <!-- íƒ­ 1: ì¼ë°˜ìˆ˜ì•¡ (ì›ë˜ ìœ„ì¹˜ ìœ ì§€) -->
    <section class="section active">
      <div class="grid">
        <!-- ê¸°ì¡´ ë¹„ì—°ê²° ë²„íŠ¼ ì˜ˆì‹œ -->
        <button class="btn-link">íƒˆìˆ˜êµì • ë° KCLë³´ì •</button>

        <!-- âœ… PPN: ì›ë˜ ì¼ë°˜ìˆ˜ì•¡ íƒ­ì— ìœ„ì¹˜ â†’ ì—°ê²° ìƒíƒœ(ë¹¨ê°•) -->
        <button class="btn-link special" onclick="openCalc('https://ppn-calculator.vercel.app')">RER/PPN ê³„ì‚°ê¸°</button>

        <!-- âœ… ìˆ˜í˜ˆ: ì›ë˜ ì¼ë°˜ìˆ˜ì•¡ íƒ­ì— ìœ„ì¹˜ â†’ ì—°ê²° ìƒíƒœ(ë¹¨ê°•) -->
        <button class="btn-link special" onclick="openCalc('https://blootranscal.vercel.app')">ìˆ˜í˜ˆê³„ì‚°ê¸°</button>

        <!-- âœ… ìƒˆë¡œ ì¶”ê°€: BPM counter -->
        <button class="btn-link special" onclick="openCalc('https://custombpm.vercel.app')">BPM counter(new)</button>
        <button class="btn-link special" onclick="openCalc('https://dilution-calculator-rouge.vercel.app/')">ë²”ìš© í¬ì„ê³„ì‚°ê¸°</button>
        <button class="btn-link special" onclick="openCalc('https://general-drug-calculator.vercel.app/')">ë²”ìš© ì•½ë¬¼ìš©ëŸ‰ê³„ì‚°ê¸°</button>
        
         <button class="btn-link">ê³ ì–‘ì´ ì„ì‹ ì¶œì‚°ê³„ì‚°ê¸°</button>    
      </div>
      <p class="notice"> í˜„ì¬ëŠ” ë¹¨ê°„ìƒ‰ë²„íŠ¼ë§Œ ì‘ë™í•©ë‹ˆë‹¤. (ìƒë‹¨ í™˜ìì •ë³´ ë°˜ì˜ ì•ˆë©ë‹ˆë‹¤.) <br> ì‚¬íŒŒë¦¬ì—ì„œ ì—´ê¸° - ğŸ“¤ - í™ˆí™”ë©´ì— ì¶”ê°€ â†’ ì•±ì•„ì´ì½˜ ìƒì„±ë©ë‹ˆë‹¤.  <br>  </p>
    </section>

    <!-- íƒ­ 2: CRI (ì›ë˜ ìœ„ì¹˜ ìœ ì§€) -->
    <section class="section">
      <p style="margin:0 0 8px; font-weight:700;">ğŸ’‰ ì•½ë¬¼ ì„ íƒ</p>
      <div class="grid">
        <!-- âœ… NaHCOâ‚ƒ CRI: ì—¬ê¸°ì—ì„œ ì—°ê²° â†’ ë¹¨ê°• -->
        <button class="btn-link special" onclick="openCalc('https://nahco3.vercel.app')">NaHCOâ‚ƒ </button>

        <!-- ì´í•˜ ìë¦¬ ìœ ì§€ìš© ë²„íŠ¼ë“¤ (ë¯¸ì—°ê²° íŒŒë‘) -->        
        <button class="btn-link special" onclick="openCalc('https://Calcium-cri-calculator.vercel.app/')">Calcium</button>
        <!-- âœ… Fentanyl CRI: ì™„ì„±ëœ ê³„ì‚°ê¸° ì—°ê²° â†’ ë¹¨ê°• -->
        <button class="btn-link special" onclick="openCalc('https://fentanyl-cri-calculator.vercel.app')">Fentanyl</button>
        <button class="btn-link special" onclick="openCalc('https://ne-calculator.vercel.app/')">Norepinephrine</button>
        <button class="btn-link special" onclick="openCalc('https://dobu-cri-calculator.vercel.app/')">Dobutamine</button>
        <button class="btn-link special" onclick="openCalc('https://dopa-cri-calculator.vercel.app/')">Dopamine</button>
        <button class="btn-link special" onclick="openCalc('https://meto-cri-calculator.vercel.app/')">Metoclopramide</button>
        <button class="btn-link special" onclick="openCalc('https://vaso-cri-calculator.vercel.app/')">Vasopressin</button>
        <button class="btn-link special" onclick="openCalc('https://Phosphate-cri-calculator.vercel.app/')">Phosphate</button>
        
        <button class="btn-link">ë²”ìš©CRI</button>
        <button class="btn-link">Insulin</button>
  
      </div>
    </section>

    <!-- íƒ­ 3: Bolus (ì›ë˜ ìœ„ì¹˜ ìœ ì§€) -->
    <section class="section">
      <p style="margin:0 0 8px; font-weight:700;">âš¡ Bolus ì•½ë¬¼ ê³„ì‚°</p>
      <div class="grid">
        
        <button class="btn-link special" onclick="openCalc('https://emer-bolus-calculator.vercel.app/')">ì‘ê¸‰ì•½ë¬¼bolusê³„ì‚°ê¸°</button>
      </div>
    </section>
  </main>

  <script>
    const tabs = document.querySelectorAll('.tab');
    const sections = document.querySelectorAll('.section');

    function showTab(i){
      tabs.forEach((t,idx)=>t.classList.toggle('active', idx===i));
      sections.forEach((s,idx)=>s.classList.toggle('active', idx===i));
    }

    function handleConfirm(){
      const data = {
        name: (document.getElementById('name').value||'ì´ë¦„ ì—†ìŒ').trim(),
        weight: parseFloat(document.getElementById('weight').value)||null,
        k: parseFloat(document.getElementById('k').value)||null,
        ca: parseFloat(document.getElementById('ca').value)||null,
        hco3: parseFloat(document.getElementById('hco3').value)||null,
      };
      window.patientData = data; // ì¶”í›„ í™•ì¥ìš©
      document.querySelectorAll('.patient-info input').forEach(el=>{
        el.style.transition='box-shadow .25s, background-color .25s';
        el.style.boxShadow='0 0 0 2px #40c05740';
        el.style.backgroundColor='#f8ffef';
        setTimeout(()=>{ el.style.boxShadow='none'; el.style.backgroundColor=''; }, 700);
      });
    }

    function handleReset(){
      ['name','weight','k','ca','hco3'].forEach(id=>document.getElementById(id).value='');
      window.patientData = null;
    }

    function openCalc(url){
      window.open(url, '_blank', 'noopener,noreferrer');
    }
  </script>
</body>
</html>
