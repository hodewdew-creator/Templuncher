<!DOCTYPE html>
<html lang="ko">
<head>
  <link rel="icon" href="icon.png" type="image/png">
  <link rel="apple-touch-icon" href="icon.png">
  
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title> 고양이 수의임상계산기 임시런쳐</title>
  <style>
    :root {
      --bg:#f8f9fa; --line:#dee2e6; --soft:#f1f3f5; --txt:#212529; --muted:#868e96;
      --blue:#228be6; --red:#fa5252; --green:#37b24d; --gray:#adb5bd;
    }
    * { box-sizing: border-box; }
    body { margin:0; background:var(--bg); color:var(--txt); font-family:system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple SD Gothic Neo, Noto Sans KR, sans-serif; }
    header { background:#fff; border-bottom:1px solid var(--line); padding:16px; text-align:center; }
    header h1 { margin:0; font-size:20px; }

    .patient-info { padding:12px; background:#fff; border-bottom:1px solid var(--line); }
    .row { display:flex; gap:12px; }
    .row > div { flex:1; }
    label { display:block; margin:8px 0 4px; font-size:14px; color:#495057; }
    input { width:100%; padding:10px; font-size:16px; border:1px solid #ccc; border-radius:6px; }

    .btnbar { display:flex; justify-content:center; gap:14px; margin:14px auto; max-width:420px; }
    .btn { border:none; border-radius:8px; padding:10px 16px; font-size:15px; color:#fff; cursor:pointer; }
    .btn.confirm { background:var(--green); }
    .btn.reset { background:var(--gray); }

    .tabs { display:flex; background:var(--soft); border-bottom:1px solid var(--line); }
    .tab { flex:1; text-align:center; padding:12px; cursor:pointer; border-right:1px solid var(--line); user-select:none; }
    .tab:last-child { border-right:none; }
    .tab.active { background:#fff; font-weight:700; }

    .container { padding:16px; }
    .section { display:none; }
    .section.active { display:block; }

    .grid { display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:12px; }
    .btn-link { padding:12px; font-size:15px; border:none; border-radius:10px; background:var(--blue); color:#fff; cursor:pointer; transition:transform .03s ease-in; }
    .btn-link:active { transform:translateY(1px); }
    .btn-link.special { background:var(--pink); } /* 연결된 계산기 = 파란 버튼)
    .btn-link.hotpink { background:var(--blue); }

    .notice { margin-top:12px; padding:12px; background:var(--soft); border:1px dashed var(--line); border-radius:8px; color:var(--muted); font-size:13px; }
  </style>

  <!--
    🔧 개발 메모 (화면 비표시)
    - 규칙: "연결된 계산기 = 빨간 버튼(.special)". 연결이 끊긴 상태는 파란색 기본(.btn-link).
    - 새 계산기 버튼 추가 방법:
      1) 해당 탭 내부의 .grid 영역에 아래 예시처럼 버튼 하나를 추가
         <button class="btn-link special" onclick="openCalc('https://example.vercel.app')">새 계산기</button>
         * 실제 연결이 없으면 special 클래스를 빼고 기본 파란색으로 두세요.
      2) 연결 URL을 넣고, 실제 배포가 완료되면 class="btn-link special"로 변경
    - 동일 계산기를 여러 탭에서 호출 가능(예: NaHCO₃는 CRI와 Bolus 모두에서 동일 URL 호출)
    - 링크 열기 정책: 새 탭, noopener/noreferrer 적용 (openCalc 함수 참고)
    - 환자 정보 입력란(window.patientData)에 저장되어 다른 계산기에서도 활용할 예정이라면,
      postMessage 등으로 연동하는 확장 스펙을 추후 추가할 수 있음(현재는 단순 메모리 저장만).
  -->
</head>
<body>
<header style="display:flex; justify-content:center; align-items:center; gap:18px; margin-bottom:6px;">
  <img src="icon.png" alt="icon" style="height:5em; vertical-align:middle;border-radius:12px;">
  <h1 style="margin:0">고양이 수의임상계산기 <br> 임시런쳐페이지</h1>
</header>

  <section class="patient-info">
    <div class="row">
      <div>
        <label for="name">환자 이름</label>
        <input id="name" type="text" placeholder="냥냥이" onfocus="this.placeholder=''" />
      </div>
      <div>
        <label for="weight">체중 (kg) *</label>
        <input id="weight" type="number" placeholder="필수 입력" onfocus="this.placeholder=''" required />
      </div>
    </div>

    <div class="btnbar">
      <button class="btn confirm" onclick="handleConfirm()">확인</button>
      <button class="btn reset" onclick="handleReset()">초기화</button>
    </div>
  </section>

  <nav class="tabs">
    <div class="tab active" onclick="showTab(0)">💧 일반</div>
    <div class="tab" onclick="showTab(1)">💉 약물 CRI</div>
    <div class="tab" onclick="showTab(2)">⚡ 약물 Bolus</div>
  </nav>

  <main class="container">
    <!-- 탭 1: 일반수액 (원래 위치 유지) -->
    <section class="section active">
      <div class="grid">

        <button class="btn-link special" onclick="openCalc('https://dehydration-cal.vercel.app/')">수액/탈수교정 계산기</button>    
        <button class="btn-link special" onclick="openCalc('https://kcl-cal.vercel.app/')">칼륨보정 계산기</button>     
        <button class="btn-link special" onclick="openCalc('https://ppn-calculator.vercel.app')">RER/PPN 계산기</button>
        <button class="btn-link special" onclick="openCalc('https://blootranscal.vercel.app')">수혈계산기</button>
        <button class="btn-link special" onclick="openCalc('https://custombpm.vercel.app')">BPM counter(new)</button>
        <button class="btn-link special" onclick="openCalc('https://dilution-calculator-rouge.vercel.app/')">범용 희석계산기</button>
        <button class="btn-link special" onclick="openCalc('https://general-drug-calculator.vercel.app/')">범용 약물용량계산기</button>
        <button class="btn-link special" onclick="openCalc('https://cat-pregnancy-cal.vercel.app/')">임신출산계산기(cat)</button>       

      </div>
      <p class="notice"> *현재 독립적인 링크로만 작동합니다. (상단 환자정보 반영 안됩니다.) <br> * 브라우저에서 열기 - 📤 - 홈화면에 추가 <br> → 앱아이콘 생성됩니다.  <br> *계산기 오류, 건의사항은 vetjihyun@gmail.com 연락주세요. </p>
    </section>

    <!-- 탭 2: CRI (원래 위치 유지) -->
    <section class="section">
      <p style="margin:0 0 8px; font-weight:700;">💉 약물 선택</p>
      <div class="grid">
        <!-- ✅ NaHCO₃ CRI: 여기에서 연결 → 빨강 -->
        <button class="btn-link special" onclick="openCalc('https://nahco3.vercel.app')">NaHCO₃ </button>

        <!-- 이하 자리 유지용 버튼들 (미연결 파랑) -->        
        <button class="btn-link special" onclick="openCalc('https://Calcium-cri-calculator.vercel.app/')">Calcium</button>
        <!-- ✅ Fentanyl CRI: 완성된 계산기 연결 → 빨강 -->
        <button class="btn-link special" onclick="openCalc('https://fentanyl-cri-calculator.vercel.app')">Fentanyl</button>
        <button class="btn-link special" onclick="openCalc('https://ne-calculator.vercel.app/')">Norepinephrine</button>
        <button class="btn-link special" onclick="openCalc('https://dobu-cri-calculator.vercel.app/')">Dobutamine</button>
        <button class="btn-link special" onclick="openCalc('https://dopa-cri-calculator.vercel.app/')">Dopamine</button>
        <button class="btn-link special" onclick="openCalc('https://meto-cri-calculator.vercel.app/')">Metoclopramide</button>
        <button class="btn-link special" onclick="openCalc('https://vaso-cri-calculator.vercel.app/')">Vasopressin</button>
        <button class="btn-link special" onclick="openCalc('https://Phosphate-cri-calculator.vercel.app/')">Phosphate</button>
        <button class="btn-link special" onclick="openCalc('https://general-cri-calculator.vercel.app/')">범용CRI계산기</button>
        <button class="btn-link special" onclick="openCalc('https://dka-cri-cal.vercel.app/')">DKA인슐린계산기</button>
       
  
      </div>
    </section>

    <!-- 탭 3: Bolus (원래 위치 유지) -->
    <section class="section">
      <p style="margin:0 0 8px; font-weight:700;">⚡ Bolus 약물 계산</p>
      <div class="grid">
        
        <button class="btn-link special" onclick="openCalc('https://emer-bolus-calculator.vercel.app/')">응급약물bolus계산기</button>
      </div>
    </section>
  </main>

  <script>
    const tabs = document.querySelectorAll('.tab');
    const sections = document.querySelectorAll('.section');

    function showTab(i){
      tabs.forEach((t,idx)=>t.classList.toggle('active', idx===i));
      sections.forEach((s,idx)=>s.classList.toggle('active', idx===i));
    }

    function handleConfirm(){
      const data = {
        name: (document.getElementById('name').value||'이름 없음').trim(),
        weight: parseFloat(document.getElementById('weight').value)||null,
        k: parseFloat(document.getElementById('k').value)||null,
        ca: parseFloat(document.getElementById('ca').value)||null,
        hco3: parseFloat(document.getElementById('hco3').value)||null,
      };
      window.patientData = data; // 추후 확장용
      document.querySelectorAll('.patient-info input').forEach(el=>{
        el.style.transition='box-shadow .25s, background-color .25s';
        el.style.boxShadow='0 0 0 2px #40c05740';
        el.style.backgroundColor='#f8ffef';
        setTimeout(()=>{ el.style.boxShadow='none'; el.style.backgroundColor=''; }, 700);
      });
    }

    function handleReset(){
      ['name','weight','k','ca','hco3'].forEach(id=>document.getElementById(id).value='');
      window.patientData = null;
    }

    function openCalc(url){
      window.open(url, '_blank', 'noopener,noreferrer');
    }
  </script>
</body>
</html>
